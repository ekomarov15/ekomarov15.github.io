<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –û–ì–≠</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
  margin:0;
  font-family:Inter,sans-serif;
  background:#f4f3ff;
}

.wrap{
  max-width:800px;
  margin:auto;
  padding:40px 20px;
}

.card{
  background:white;
  border-radius:24px;
  padding:30px;
  box-shadow:0 12px 30px rgba(0,0,0,.1);
}

button{
  margin-top:20px;
  padding:14px 24px;
  border:none;
  border-radius:14px;
  background:#7c7cff;
  color:white;
  font-size:16px;
  cursor:pointer;
}

.result-table{
  width:100%;
  border-collapse:collapse;
  margin-top:20px;
  font-size:15px;
}

.result-table th,
.result-table td{
  border:1px solid #d6dbff;
  padding:10px;
  text-align:center;
}

.result-table th{
  background:#eef1ff;
}

.ok{
  color:#16a34a;
  font-weight:700;
}

.bad{
  color:#dc2626;
  font-weight:700;
}

.empty{
  color:#6b7280;
}

</style>
</head>

<body>
<div class="wrap">
  <div class="card" id="result">
    <h1>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–∞</h1>
  </div>

  <button href="index.html">üìÑ –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
</div>

<script>
const data = JSON.parse(localStorage.getItem("oge_result"));
const res = document.getElementById("result");

let score=0, max=0;

data.variant.forEach(t=>{
  if(t.number>=2 && t.number<=12){
    max++;
    const userAnswer = data.answers[t.number];

if(
  userAnswer !== undefined &&
  String(userAnswer).trim() !== "" &&
  String(userAnswer).trim() === String(t.data.answer)
){
  score++;
}
});

res.innerHTML+=`
<p><strong>–¢–µ—Å—Ç–æ–≤–∞—è —á–∞—Å—Ç—å:</strong> ${score} / ${max}</p>
<p>‚úçÔ∏è –ò–∑–ª–æ–∂–µ–Ω–∏–µ –∏ —Å–æ—á–∏–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º –§–ò–ü–ò</p>
`;
 <h2>üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞–Ω–∏–π 2‚Äì12</h2>

<table class="result-table">
  <thead>
    <tr>
      <th>‚Ññ</th>
      <th>–û—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞</th>
      <th>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</th>
      <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
    </tr>
  </thead>
  <tbody id="table-body"></tbody>
</table>

function exportPDF(){
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF();
  pdf.text("–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –û–ì–≠ –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É",10,10);
  pdf.text(`–¢–µ—Å—Ç–æ–≤–∞—è —á–∞—Å—Ç—å: ${score} / ${max}`,10,20);
  pdf.save("oge-result.pdf");
}
</script>
</body>
</html>
